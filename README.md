# Introduction to Computer Architecture for HPC (a.k.a Foundation of HPC at DSSC)


## Stefano Cozzini  /Luca Tornatore

## OUTLINE

This repository contains the materials/programs/assignements and workspaces for the
course  **Introduction to Computer Architecture for HPC** at MHPC andd   **Foundation on HPC**.

the two courses shares some lectures and some materials.
The  MHPC P1.2 course will be be given intesively over October, while the FHPC has a different schedule and  will last till January.


## References&Books

#### Introduction to High Performance Computing for Scientists and Engineers
by Georg Hager and Gerhard Wellein
Paperback: 356 pages
Publication date  July 2, 2010
Editors (Chapman & Hall/CRC Computational Science)

#### Introduction to High-Performance Scientific Computing,by Victor Eijkhout
The source and pdf of the book (as well as lecture slides) can be found in this repository:
https://bitbucket.org/VictorEijkhout/hpc-book-and-course
10.5281/zenodo.49897


#### High Performance Computing Modern Systems and Practices
Available at ICTP library 
Authors: Thomas Sterling Matthew Anderson Maciej Brodowicz
eBook ISBN: 9780124202153
Paperback ISBN: 9780124201583

#### Optimizing HPC Applications with Intel Cluster Tools 
Paperback â€“ October 15, 2014
by Alexander Supalov  (Author), Andrey Semin  (Author), Michael Klemm  (Author), & 1 more
ISBN-13: 978-1430264965  ISBN-10: 1430264969  Edition: 1st

#### High Performance Parallelism Pearls, 1st Edition
Multicore and Many-core Programming Approaches
by Reinders   &    Jeffers  
Morgan Kaufmann, Print Book ISBN :9780128021187


### Schedule  (S.C)

#### Week 1:

- Tuesday October 2: via Bonomea  
   - 09.30 - 11.30 MHPC/DSSC lecture one: [introduction_to_HPC_p1] (part 1)

- Wednesday October 3: Miramare 
   - 09.30 - 11.00 MHPC tutorial : [using an HPC platform] + exercise 1 [compute weak/strong scalability]
   - 11.30 - 13.00 MHPC exercise 1: [compute weak/strong scalability]  
   - 14:00 - 17:00 MHPC exercise 1: personal work on exercise 1
   
- Friday October 5: 
  - 09.30- 11.00: MHPC/DSSC lecture two: [introduction to HPC_p2] (part 2)
  - 11.30 -13.00: DSSC tutorial: using a HPC platform + exercise 1 [compute weak/strong scalability]
  - 14.00 -17.00: MHPC advanced exercise1 (Ex1ADV)

#### Week 2:

- Monday October 8:
  - 09.30 - 11.00 MHPC/DSSC lecture three: [Introduction to modern CPUs + memory hierarchy]
  - 11.30 - 13.00 MHPC/DSSC tutorial: [Intro to Code Opimization + Profiling tools] [LT] 
  - 14.00 -17.00: DSCC/MHPC exercise 2: [use profiling tools]
- Tuesday October 9:   
   - 09.30 - 11.30 MHPC  completing exercise for MHPC (deadline ex1ADV + exercise2 end of the day)
- Wednesday October 10: Miramare 
   - 09.30 - 12.30 MHPC tutorial: [Code Optmization / part 1 (cpu)] [LT]
   - 14:00 - 17.00 MHPC advanced exercise 3: Code Optimization (cpu) [LT]   
- Thurday October 11:   
  - 09.30 - 11.30 MHPC: completing exercise for MHPC (deadline ex2ADV end of the day)
- Friday October 12: 
  - 09.30- 11.00: MHPC/DSSC lecture four/1: [introduction to memory optimization]: part1  [LT + SC]
  - 11.30 -13.00: MHPC/DSSC lecture four/2: [introduction to memory optimization]: part2 [LT + SC]
  - 14.00 -17.00: MHPC exercise 4: [Transpose a matrix]

#### Week 3:

- Monday October 15:
  - 09.30 - 11.00 MHPC/DSSC  lecture five/1 : [introduction to multicore architecture] [SC]
  - 11.30 - 13.00 MHPC/DSSC  lecture five/2:  [introduction to multicore architecture] [SC]
  - 14.00 -17.00: DSCC/MHPC exercise 5: [Multicore_exercises] stream + nodeperf 
- Wednesday October 17: Miramare 
   - 09.30 - 12.30 MHPC tutorial: advanced memory optimizaton [LT] 
   - 14:00 - 17.00 MHPC adavanced exercise 4: TBD   
- Thurday October 18: via Bonomea  
- Friday October 19: 
  - 09.30 - 11.00 MHPC/DSSC  lecture six/1 : 
  - 11.30 - 13.00 MHPC/DSSC  lecture six/2 :  
  - 14.00 -17.00: DSCC/MHPC exercise 5 :

#### Week 4:

- Monday October 22:
  - 09.30 - 11.00 MHPC/DSSC  [introduction to parallel architecture and tools] part 1 [SC]
  - 11.30 - 13.00 MHPC/DSSC  [introduction to parallel architecture and tools] part 2 [SC]
  - 14.00 -17.00: MHPC exercise: measuring latency with ping-pong 
  
- Wednesday October 24: Miramare 
   - 09.30 - 12.30 MHPC: [introduction to benchmarking] [SC] 
   - 14:00 - 17.00 MHPC exercise 6: [exercises_on_hpl_and_hpcg]
- Friday October 26: 
  - 09.30- 11.30: MHPC/DSSC lecture eight/1: [measure energy in HPC]  [SC] 
  - 14.00 -17.00: DSCC/MHPC exercise 7: [exercise on energy] 

#### Week 5:

- Monday October 29:
  - 09.30 - 11.00 MHPC lecture nine/1: [intro_to_debugging]  [SC] + [parallel debugging] [LT]
  - 11.30 - 13.00 MHPC lecture nine/2: [stack and heap] [LT] 
  - 14:00 - 17:00 MHPC free tutorials on [debugging], on [parallel_debugging] and [stack and heap]
- Wednesday October 31:  
  - 10:30 - 12:00 MHPC Final exam  

#### Week 6:

- Monday November 5:
  - 09.30 - 11.30 DSSC  lecture ten
  - 11.30 - 13.00 DSSC tutorial 
  - 14.00 -17.00: DSCC exercise 
- Friday November 9: 
  - 09.30- 11.30: DSSC lecture eleven
  - 11.30 -12.30: DSSC tutoring
 
#### Week 7:

- Monday November 12:
  - 09.30 - 11.30 DSSC  lecture twelve
  - 11.30 - 13.00 DSSC tutorial 
  - 14.00 -17.00: DSCC exercise 
- Friday November 16: 
  - 09.30- 11.30: DSSC lecture thirdteen
  - 11.30 -12.30: DSSC tutoring

#### Week 8:

- Monday November 19:
  - 09.30 - 11.30 DSSC  lecture twelve
  - 11.30 - 13.00 DSSC tutorial 
  - 14.00 -17.00: DSCC exercise 
- Friday November 23: 
  - 09.30- 11.30: DSSC lecture thirteen
  - 11.30 -12.30: DSSC tutoring

#### Week 9:

- Monday November 16:
  - 09.30 - 11.30 DSSC  lecture 14
  - 11.30 - 13.00 DSSC tutorial 
  - 14.00 -17.00: DSCC exercise 
- Friday November 30: 
  - 09.30- 11.30: DSSC lecture 15
  - 11.30 -12.30: DSSC tutoring

#### Week 10:

- Monday December 3:
  - 09.30 - 11.30 DSSC  lecture 16
  - 11.30 - 13.00 DSSC tutorial 
  - 14.00 -17.00: DSCC exercise 
- Friday December 7: 
  - 09.30- 11.30: DSSC lecture 17
  - 11.30 -12.30: DSSC tutoring

#### Week 11:

- Monday December 10:
  - 09.30 - 11.30 DSSC  lecture 18
  - 11.30 - 13.00 DSSC tutorial 
  - 14.00 -17.00: DSCC exercise 
- Friday December 14: 
  - 09.30- 11.30: DSSC lecture 19
  - 11.30 -12.30: DSSC tutoring

#### Week 11:

- Monday January 7:
  - 09.30 - 11.30 DSSC  lecture 20
  - 11.30 - 13.00 DSSC tutorial 
  - 14.00 -17.00: DSCC exercise 
- Friday December 11: 
  - 09.30- 11.30: DSSC lecture 21
  - 11.30 -12.30: DSSC tutoring



######### 

## How to get the material
### Non-experienced git users
- Very first time `(N==0)`
  - open a terminal
  - `cd` in a suitable folder
  - `git clone https://github.com/asartori86/advanced_programming-2018-19.git`
  - `cd advanced-programming`
  - take a look at [software carpentry lecture](http://swcarpentry.github.io/git-novice/) and [pro git book](https://git-scm.com/book/en/v2) 
- `N > 0`
  - open a terminal
  - `cd` to the folder `advanced-programming`
  - `git pull --rebase origin master`
- if(conflict)
  - ask

### Experienced git users
- Very first time `(N==0)`
  - fork the repository
  - clone either your fork or this repository
  - add the other remote
- `N >= 0`
  - use branches
  - rebase on the correct master branch
  - merge the branches in your local master
  - push on the master of your fork
- if(conflict)
  - if(rebase)
    - `git add`
    - `git rebase --continue`
    - if(bigger mess)
      	- `git rebase --abort`
  - if(merge)
    - `git add`
    - `git commit`
    - `git merge --continue`
    - if(bigger mess)
      - `git merge --abort`


### MHPC Assignement: 
 - A01: [compute weak/strong scalability] Due time: Thursday  october 4th noon (12PM) 
 - A02: [use profiling tools]: https://github.com/sissa/P1.2_seed/blob/master/exercise2-profiling/readme.md
 - A03: 
 - A04: [Transpose a matrix] Due time: end of october
 - A05: [Multicore_exercises] Due time: end of october
 - A06: [exercises_on_hpl_and_hpcg] Due time: end of october
 - A07: [exercise on energy]   Due time: end of october  


[introduction to HPC_p2]:  https://github.com/sissa/P1.2_seed/raw/master/lectures/MHPC-FHPC-lecture1-oct-5.pdf
[introduction to HPC_p1]:  https://github.com/sissa/P1.2_seed/raw/master/lectures/MHPC-FHPC-lecture1.pdf   
[Introduction to modern CPUs + memory hierarchy]:  https://github.com/sissa/P1.2_seed/raw/master/lectures/MHPC-FHPC-lecture-oct-8.pdf
[Intro to Code Opimization + Profiling tools]: https://github.com/sissa/P1.2_seed/blob/master/lectures/code%20optimization%20part%20I%20-%20theres%20no%20spoon.pdf

[introduction to memory optimization]: https://github.com/sissa/P1.2_seed/raw/master/lectures/MHPC-FHPC-lecture4.pdf
[introduction to multicore architecture]: https://github.com/sissa/P1.2_seed/raw/master/lectures/MHPC-FHPC-multicore-architecture.pdf
[introduction to parallel architecture and tools]: https://github.com/sissa/P1.2_seed/raw/master/lectures/MHPC-FHPC-cluster-openMPI.pdf
[introduction to benchmarking]:     https://github.com/sissa/P1.2_seed/raw/master/lectures/MHPC-FHPC-benchmarking.pdf   
[measure energy in HPC]: https://github.com/sissa/P1.2_seed/blob/master/lectures/MHPC-FHPC-energyHPC.pdf
[intro_to_debugging]: https://github.com/sissa/P1.2_seed/blob/master/lectures/MHPC-FHPC-intro-to-debug.pdf
[parallel debugging]: https://github.com/sissa/P1.2_seed/blob/master/lectures/parallel_debugging.pdf
[stack and heap]: https://github.com/sissa/P1.2_seed/blob/master/Tutorial/Stack%20and%20Heap/code%20optimization%20part%20V%20-%20stack.pdf


[using an HPC platform]:  https://github.com/sissa/P1.2_seed/tree/master/exercise1#part-1-compute-strong-and-weak-scalability-of-an-hpc-application
[parallel_debugging]: https://github.com/sissa/P1.2_seed/blob/master/Tutorial/Parallel%20debugging/readme.md#parallel-debugging
[stack and heap]: https://github.com/sissa/P1.2_seed/blob/master/Tutorial/Stack%20and%20Heap/readme.md#stack-and-heap
[debugging]: https://github.com/sissa/P1.2_seed/blob/master/Tutorial/Basic_debugging/readme.md 

[compute weak/strong scalability]: https://github.com/sissa/P1.2_seed/tree/master/exercise1#part-2-compute-strong-and-weak-scalability-of-an-hpc-application
[Transpose a matrix]:  https://github.com/sissa/P1.2_seed/tree/master/exercise4-transpose/
[Multicore_exercises]: https://github.com/sissa/P1.2_seed/tree/master/exercise5-multicpu-multicore#multicoremultinode-hands-on-and-exercises
[exercises_on_hpl_and_hpcg]: https://github.com/sissa/P1.2_seed/tree/master/exercise6-runhpl#benchmark-c3e-cluster-using-hpl-and-hpcg
[exercise on energy]: https://github.com/sissa/P1.2_seed/blob/master/exercise7-energy-measurements/README.rst#measure-energy-efficiency-on-hpl-and-hpcg

### Preparation 

New material will be uploaded frequently,

